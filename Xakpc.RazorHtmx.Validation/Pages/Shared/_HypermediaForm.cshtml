@model Xakpc.RazorHtmx.Validation.UserRegistrationForm

@{
    var handler = (string)ViewData["Handler"];
    var isHtmx = ViewContext.HttpContext.Request.Headers["HX-Request"] == "true";
}

<form hx-post="@handler" hx-swap="outerHtml"
      hx-on:focusout="event.target.setAttribute('aria-invalid', event.target.validity.valid && event.target.value !== '' ? 'false' : 'true')">

    <label asp-for="FirstName"></label>
    <input asp-for="FirstName" hx-on:invalid="setCustomValidity(event.target)" />
    <span asp-validation-for="FirstName" class="text-danger"></span>

    <label asp-for="LastName"></label>
    <input asp-for="LastName" hx-on:invalid="setCustomValidity(event.target)" />
    <span asp-validation-for="LastName" class="text-danger"></span>

    <label asp-for="Email"></label>
    <input asp-for="Email" hx-on:invalid="setCustomValidity(event.target)" />
    <span asp-validation-for="Email" class="text-danger"></span>

    <label asp-for="Password"></label>
    <input asp-for="Password" type="password" hx-on:invalid="setCustomValidity(event.target)" />
    <span asp-validation-for="Password" class="text-danger"></span>

    <label asp-for="ConfirmPassword"></label>
    <input asp-for="ConfirmPassword" type="password" hx-on:invalid="setCustomValidity(event.target)" />
    <span asp-validation-for="ConfirmPassword" class="text-danger"></span>

    <label asp-for="PhoneNumber"></label>
    <input asp-for="PhoneNumber" hx-on:invalid="setCustomValidity(event.target)" />
    <span asp-validation-for="PhoneNumber" class="text-danger"></span>

    <label asp-for="Age"></label>
    <input asp-for="Age" hx-on:invalid="setCustomValidity(event.target)" />
    <span asp-validation-for="Age" class="text-danger"></span>

    <label asp-for="DateOfBirth"></label>
    <input asp-for="DateOfBirth" hx-on:invalid="setCustomValidity(event.target)" />
    <span asp-validation-for="DateOfBirth" class="text-danger"></span>

    @Html.AntiForgeryToken()
    <button type="submit" class="btn btn-primary">Register</button>
</form>